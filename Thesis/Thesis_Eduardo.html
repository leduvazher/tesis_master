<!DOCTYPE html>
<html lang="en"><head>
<script src="Thesis_Eduardo_files/libs/clipboard/clipboard.min.js"></script>
<script src="Thesis_Eduardo_files/libs/quarto-html/tabby.min.js"></script>
<script src="Thesis_Eduardo_files/libs/quarto-html/popper.min.js"></script>
<script src="Thesis_Eduardo_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Thesis_Eduardo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Thesis_Eduardo_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Thesis_Eduardo_files/libs/quarto-html/quarto-syntax-highlighting-48ffa3e5b9d089919c6712c39e5b00f2.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.41">

  <meta name="author" content="Eduardo Vazquez">
  <title>Comparison of univariates and multivariates forecasts of homicides in Mexico with and without Google Trends data</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Thesis_Eduardo_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Thesis_Eduardo_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="Thesis_Eduardo_files/libs/revealjs/dist/theme/quarto-8f3eebe07241f08526c91a7e9cbef8fd.css">
  <link rel="stylesheet" href="style.css">
  <link href="Thesis_Eduardo_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Thesis_Eduardo_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Thesis_Eduardo_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Thesis_Eduardo_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="Thesis_Eduardo_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

  <script src="Thesis_Eduardo_files/libs/plotly-binding-4.10.4/plotly.js"></script>

  <script src="Thesis_Eduardo_files/libs/typedarray-0.1/typedarray.min.js"></script>

  <script src="Thesis_Eduardo_files/libs/jquery-3.5.1/jquery.min.js"></script>

  <link href="Thesis_Eduardo_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

  <script src="Thesis_Eduardo_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

  <link href="Thesis_Eduardo_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

  <script src="Thesis_Eduardo_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <style>.reveal h1 {color: #000;}</style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="justicia.jpg" data-background-size="cover" class="quarto-title-block center">
  <h1 class="title">Comparison of univariates and multivariates forecasts of homicides in Mexico with and without Google Trends data</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Eduardo Vazquez 
</div>
</div>
</div>

</section>
<section id="intro" class="slide level2">
<h2>Introduction</h2>
<ul>
<li><p><strong>Context</strong>: National homicide rates in Mexico have tripled since 1990. Violence generates significant social disruptions. To effectively address this issue, it is essential to shift from a reactive approach to a proactive one, leveraging forecasting techniques to inform strategy and prevention efforts.</p></li>
<li><p><strong>Objective</strong>: Comparing forecasting strategies to predict national homicide rates by sex, using Google Trends data.</p></li>
</ul>
</section>
<section id="research_context" class="slide level2">
<h2>Research Context</h2>
<section>
<ul>
<li>Homicides are among the top causes of death in Mexico.</li>
<li>The rate increased from 8.1 per 100,000 in 1990 to 25 in 2020.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-b09b50d2a9704c1a5118" style="width:1000px;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b09b50d2a9704c1a5118">{"x":{"data":[{"x":[7305,7670,8035,8401,8766,9131,9496,9862,10227,10592,10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167,17532,17897,18262],"y":[17.149999999999999,17.559999999999999,18.91,17.949999999999999,17.41,16.879999999999999,15.43,14.199999999999999,14.109999999999999,12.49,10.81,10.210000000000001,9.8699999999999992,9.7400000000000002,8.8900000000000006,9.3300000000000001,9.6899999999999995,8.0899999999999999,12.59,17.52,22.449999999999999,23.370000000000001,21.989999999999998,19.280000000000001,16.530000000000001,16.969999999999999,19.870000000000001,25.710000000000001,29.120000000000001,28.82,28.68],"text":["year_date: 1990-01-01<br />homicide_rate: 17.15","year_date: 1991-01-01<br />homicide_rate: 17.56","year_date: 1992-01-01<br />homicide_rate: 18.91","year_date: 1993-01-01<br />homicide_rate: 17.95","year_date: 1994-01-01<br />homicide_rate: 17.41","year_date: 1995-01-01<br />homicide_rate: 16.88","year_date: 1996-01-01<br />homicide_rate: 15.43","year_date: 1997-01-01<br />homicide_rate: 14.20","year_date: 1998-01-01<br />homicide_rate: 14.11","year_date: 1999-01-01<br />homicide_rate: 12.49","year_date: 2000-01-01<br />homicide_rate: 10.81","year_date: 2001-01-01<br />homicide_rate: 10.21","year_date: 2002-01-01<br />homicide_rate:  9.87","year_date: 2003-01-01<br />homicide_rate:  9.74","year_date: 2004-01-01<br />homicide_rate:  8.89","year_date: 2005-01-01<br />homicide_rate:  9.33","year_date: 2006-01-01<br />homicide_rate:  9.69","year_date: 2007-01-01<br />homicide_rate:  8.09","year_date: 2008-01-01<br />homicide_rate: 12.59","year_date: 2009-01-01<br />homicide_rate: 17.52","year_date: 2010-01-01<br />homicide_rate: 22.45","year_date: 2011-01-01<br />homicide_rate: 23.37","year_date: 2012-01-01<br />homicide_rate: 21.99","year_date: 2013-01-01<br />homicide_rate: 19.28","year_date: 2014-01-01<br />homicide_rate: 16.53","year_date: 2015-01-01<br />homicide_rate: 16.97","year_date: 2016-01-01<br />homicide_rate: 19.87","year_date: 2017-01-01<br />homicide_rate: 25.71","year_date: 2018-01-01<br />homicide_rate: 29.12","year_date: 2019-01-01<br />homicide_rate: 28.82","year_date: 2020-01-01<br />homicide_rate: 28.68"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(74,164,222,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(31,101,204,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,101,204,1)"}},"frame":null}],"layout":{"margin":{"t":51.799086757990871,"r":7.3059360730593621,"b":50.260815220565675,"l":37.260273972602747},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Homicide Rate per Year (per 100k people)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[6757.1499999999996,18809.849999999999],"tickmode":"array","ticktext":["1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021"],"tickvals":[6940,7305,7670,8035,8401,8766,9131,9496,9862,10227,10592,10957,11323,11688,12053,12418,12784,13149,13514,13879,14245,14610,14975,15340,15706,16071,16436,16801,17167,17532,17897,18262,18628],"categoryorder":"array","categoryarray":["1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[7.0385,30.171500000000002],"tickmode":"array","ticktext":["10","15","20","25","30"],"tickvals":[10,15,20,25,30],"categoryorder":"array","categoryarray":["10","15","20","25","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Homicide Rate","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","width":1000,"height":400,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c10715a70ea":{"x":{},"y":{},"type":"scatter"},"6c106cbe366a":{"x":{},"y":{}}},"cur_data":"6c10715a70ea","visdat":{"6c10715a70ea":["function (y) ","x"],"6c106cbe366a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section>
<div class="columns">
<div class="column" style="width:60%;">
<p>According to Mexico Unido Contra la Delincuencia (2024)</p>
<ul>
<li><p>Five municipalities (Tijuana, Juárez, León, Acapulco de Juárez, and Celaya) accounted for 18% of the country’s total violence and rank among the most dangerous in the world.</p></li>
<li><p>71% of homicides in Mexico involve firearms, a rate above 60% for 15 years (73% for men and 61% for women in 2023)</p></li>
<li><p>Of 21,927 firearm homicides in 2023, the weapon type is known for only 1.1% of cases, with no data for the remaining 98.9%.</p></li>
</ul>
</div><div class="column" style="width:40%;">
<p><br>
<img data-src="images/tijuana_research_context-02.png" width="400" height="500"></p>
</div></div>
</section>
</section>
<section id="literature_review" class="slide level2">
<h2>Literature Review</h2>
<section>
<p>The literature on homicide forecasting is still developing, with limited studies compared to other crime forecasting areas. While some models exist, research remains fragmented, and there is room for improvement in data sources and methodologies.</p>
<table class="caption-top">
<colgroup>
<col style="width: 24%">
<col style="width: 26%">
<col style="width: 24%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Author</th>
<th>Methodology</th>
<th>Findings</th>
<th>Scope</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ramallo et al.&nbsp;(2023)</td>
<td>Dynamic Factor Model (DFM)</td>
<td>Improved homicide forecasting with multiple data sources.</td>
<td>International (USA)</td>
</tr>
<tr class="even">
<td>Santos-Marquez (2021)</td>
<td>ETS, ARIMA, beta-convergence models</td>
<td>Found STAR and beta-convergence models most accurate.</td>
<td>International (Colombia)</td>
</tr>
<tr class="odd">
<td>Swedo et al.&nbsp;(2023)</td>
<td>Ensemble model with Google Trends</td>
<td>Reduced homicide reporting lag.</td>
<td>International (USA)</td>
</tr>
<tr class="even">
<td>Calvo et al.&nbsp;(2017)</td>
<td>CR-Ω+ model integrating clustering and optimization</td>
<td>Enhanced patrol effectiveness in crime prediction.</td>
<td>National (Mexico)</td>
</tr>
<tr class="odd">
<td>García-Gómez et al.&nbsp;(2022)</td>
<td>Bayesian Ridge &amp; SVR</td>
<td>Effective homicide forecasting in Mexico.</td>
<td>National (Mexico)</td>
</tr>
<tr class="even">
<td>Gress et al.&nbsp;(2023)</td>
<td>Descriptive statistics &amp; hypothesis testing</td>
<td>Identified increasing feminicide trends.</td>
<td>National (Mexico)</td>
</tr>
<tr class="odd">
<td>Piña-García &amp; Ramírez-Ramírez (2019)</td>
<td>ARIMA with Google Trends &amp; Twitter</td>
<td>Crime predictions enhanced using search data.</td>
<td>National (Mexico)</td>
</tr>
</tbody>
</table>
</section>
<section>
<p>Number of Crime Forecasting Academic Studies</p>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-4fda1ed2ed7e3ecac6a2" style="width:1000px;height:550px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4fda1ed2ed7e3ecac6a2">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000213,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],"y":[1,1,1,4,2,6,2,1,1,1,2,2,1,4,1,1,2,2,5,1,6,2,6,4,16,15,8,6,12,7,11,8,15,14,11,19,12,9,14,21,25,34,36,42,39,60],"text":["factor(published_year): 1953<br />articles:  1","factor(published_year): 1972<br />articles:  1","factor(published_year): 1975<br />articles:  1","factor(published_year): 1977<br />articles:  4","factor(published_year): 1978<br />articles:  2","factor(published_year): 1979<br />articles:  6","factor(published_year): 1980<br />articles:  2","factor(published_year): 1981<br />articles:  1","factor(published_year): 1982<br />articles:  1","factor(published_year): 1983<br />articles:  1","factor(published_year): 1984<br />articles:  2","factor(published_year): 1988<br />articles:  2","factor(published_year): 1989<br />articles:  1","factor(published_year): 1990<br />articles:  4","factor(published_year): 1991<br />articles:  1","factor(published_year): 1992<br />articles:  1","factor(published_year): 1993<br />articles:  2","factor(published_year): 1994<br />articles:  2","factor(published_year): 1995<br />articles:  5","factor(published_year): 1997<br />articles:  1","factor(published_year): 1998<br />articles:  6","factor(published_year): 1999<br />articles:  2","factor(published_year): 2000<br />articles:  6","factor(published_year): 2001<br />articles:  4","factor(published_year): 2002<br />articles: 16","factor(published_year): 2003<br />articles: 15","factor(published_year): 2004<br />articles:  8","factor(published_year): 2005<br />articles:  6","factor(published_year): 2006<br />articles: 12","factor(published_year): 2007<br />articles:  7","factor(published_year): 2008<br />articles: 11","factor(published_year): 2009<br />articles:  8","factor(published_year): 2010<br />articles: 15","factor(published_year): 2011<br />articles: 14","factor(published_year): 2012<br />articles: 11","factor(published_year): 2013<br />articles: 19","factor(published_year): 2014<br />articles: 12","factor(published_year): 2015<br />articles:  9","factor(published_year): 2016<br />articles: 14","factor(published_year): 2017<br />articles: 21","factor(published_year): 2018<br />articles: 25","factor(published_year): 2019<br />articles: 34","factor(published_year): 2020<br />articles: 36","factor(published_year): 2021<br />articles: 42","factor(published_year): 2022<br />articles: 39","factor(published_year): 2023<br />articles: 60"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(74,164,222,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":46.817766708177665,"r":7.3059360730593621,"b":54.927355749273559,"l":37.260273972602747},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Crime forecasting academic studies","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,46.600000000000001],"tickmode":"array","ticktext":["1953","1972","1975","1977","1978","1979","1980","1981","1982","1983","1984","1988","1989","1990","1991","1992","1993","1994","1995","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,15.999999999999998,17,18,19,20,21,22,23,24,24.999999999999996,26,27.000000000000004,28,29,30,31,32.000000000000007,33,34,35,36,37,38,39,40,41,42,43,44,45,46],"categoryorder":"array","categoryarray":["1953","1972","1975","1977","1978","1979","1980","1981","1982","1983","1984","1988","1989","1990","1991","1992","1993","1994","1995","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Published year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3,63],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Articles","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","width":1000,"height":550,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6c10769a3bc8":{"x":{},"y":{},"type":"bar"}},"cur_data":"6c10769a3bc8","visdat":{"6c10769a3bc8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="data_sources" class="slide level2">
<h2>Data Sources</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><strong>INEGI Homicide Data (1990-2020)</strong>
<ul>
<li>Monthly aggregation (2004-2020)</li>
<li>Demographic and geographical details</li>
</ul></li>
<li><strong>Google Trends API</strong>
<ul>
<li>Provides access to a largely unfiltered sample of actual search requests made to Google</li>
<li>The resulting numbers are then scaled on a range of 0 to 100 based on a topic’s proportion to all searches on all topic</li>
</ul></li>
</ul>
</div><div class="column" style="width:40%;">
<p><img data-src="INEGI.png" width="270"></p>
<p><img data-src="google_trends_logo.png" width="306"></p>
</div></div>
</section>
<section id="data_limitations" class="slide level2">
<h2>Data Limitations</h2>
<h3 id="homicide-data-constraints">Homicide Data Constraints</h3>
<ul>
<li><strong>Year of Occurrence vs.&nbsp;Year of Registration</strong>: Some homicides are registered in a different year from their occurrence, causing inconsistencies in trend analysis.</li>
<li><strong>Missing Data</strong>: Some homicide records lack information on the exact year of occurrence, leading to potential bias in estimations.</li>
<li><strong>Publication Lag</strong>: INEGI’s homicide data is subject to delays in publication, often taking several months or years to become available, limiting real-time analysis and decision-making.</li>
</ul>
<h3 id="google-trends-limitations">Google Trends Limitations</h3>
<ul>
<li><strong>Search Term Bias</strong>: The popularity of search terms may not directly correlate with crime incidence.</li>
<li><strong>Temporal Gaps</strong>: Google Trends data is only available from 2004 onwards, limiting historical comparisons.</li>
<li><strong>Geographical Aggregation</strong>: Data is reported at broader geographic levels, potentially missing localized crime patterns.</li>
</ul>
</section>
<section id="estimation_strategy" class="slide level2">
<h2>Estimation Strategy</h2>
<ol type="1">
<li><strong>Extraction</strong>: Retrieve data from INEGI and Google Trends.</li>
<li><strong>Transformation</strong>: Clean and structure the data.</li>
<li><strong>Modeling</strong>:
<ul>
<li>PCA on Google Trends data</li>
<li>ARIMA &amp; VAR models estimation</li>
<li>Forecast generation and accuracy assessment</li>
</ul></li>
</ol>
</section>
<section id="exploratory-analysis" class="slide level2">
<h2>Exploratory Analysis</h2>
<ul>
<li><strong>Homicide Trends</strong> (2006-2021)
<ul>
<li>Government security policy shifts affecting trends</li>
<li>Unexpected decline in 2020</li>
</ul></li>
<li><strong>PCA Results</strong>
<ul>
<li>Selected terms explain 71.2% of variance</li>
</ul></li>
</ul>
</section>
<section id="arima-models" class="slide level2">
<h2>ARIMA Models</h2>
<ul>
<li><strong>Female Homicides</strong>: <span class="math display">\[ (1-B)Y_t = \theta(B)\epsilon_t \]</span>
<ul>
<li>Best model: ARIMA(0,1,1)(1,0,1)</li>
<li>Residual diagnostics confirm no autocorrelation</li>
</ul></li>
<li><strong>Male Homicides</strong>: <span class="math display">\[ Y_t = \phi(B)Y_{t-1} + \epsilon_t \]</span>
<ul>
<li>Best model: ARIMA(2,0,0)(1,0,0)</li>
</ul></li>
</ul>
</section>
<section id="arima-with-google-trends" class="slide level2">
<h2>ARIMA with Google Trends</h2>
<ul>
<li><strong>Improved Model Performance</strong>
<ul>
<li>ARIMA(1,0,1) for females, ARIMA(0,2,2) for males</li>
<li>Google Trends as an external regressor</li>
<li>Ljung-Box test confirms residual independence</li>
</ul></li>
</ul>
</section>
<section id="var-model" class="slide level2">
<h2>VAR Model</h2>
<ul>
<li><strong>Multivariate Approach</strong>
<ul>
<li>Homicides modeled jointly</li>
<li>Significant lags capture cross-effects</li>
</ul></li>
</ul>
<p><span class="math display">\[ Y_t = A_1 Y_{t-1} + A_2 Y_{t-2} + \dots + A_k Y_{t-k} + \epsilon_t \]</span></p>
</section>
<section id="var-google-trends" class="slide level2">
<h2>VAR + Google Trends</h2>
<ul>
<li><strong>Model Performance</strong>
<ul>
<li>VAR + GT captures interdependencies better</li>
<li>R²: 0.9298 (female), 0.9565 (male)</li>
<li>Normality &amp; autocorrelation tests confirm model adequacy</li>
</ul></li>
</ul>
</section>
<section id="model-comparison" class="slide level2">
<h2>Model Comparison</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Model</th>
<th>RMSE</th>
<th>MAE</th>
<th>MAPE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>VAR</td>
<td>20.33</td>
<td>17.01</td>
<td>6.02%</td>
</tr>
<tr class="even">
<td>VAR + GT</td>
<td>18.02</td>
<td>14.89</td>
<td>5.28%</td>
</tr>
<tr class="odd">
<td>ARIMA</td>
<td>19.20</td>
<td>15.10</td>
<td>5.49%</td>
</tr>
<tr class="even">
<td>ARIMA + GT</td>
<td>23.14</td>
<td>20.16</td>
<td>7.13%</td>
</tr>
</tbody>
</table>
</section>
<section id="conclusions" class="slide level2">
<h2>Conclusions</h2>
<ul>
<li><strong>VAR + Google Trends provides the best forecasts.</strong></li>
<li><strong>ARIMA models underperform due to univariate limitations.</strong></li>
<li><strong>Exogenous indicators enhance predictability of homicide trends.</strong></li>
<li><strong>Policy implications for crime prevention and early warning systems.</strong></li>
</ul>
</section>
<section id="literature-review111" class="slide level2">
<h2>Literature Review111</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Col1</th>
<th>Col2</th>
<th>Col3</th>
<th>Col4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>:::::</p>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Thesis_Eduardo_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Thesis_Eduardo_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>